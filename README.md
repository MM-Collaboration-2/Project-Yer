## Проект Ерь

```                              
               _-----_        
              /   __  \       
     (^) (^) /  /   \  \      
      |\_/|  |  | \_/  |      
      \ - |   \  \_   /       
       \   \___\_____/___     
        \ _______________\    
------------------------------
```

Эзотерический язык программирования, может, отдельная сущность.

> "В скором будущем все будут писать на этом языке"
>
> -- <cite>Главный разработчик Ери</cite>

### Основные приколы

- Подсветка синтаксиса в Vim
- Стандартная библиотека BUILTINS
- Переменные
- Комментарии
- Конcтрукции
- Функции
- Фичи и баги

### Подсветка синтаксиса в Vim
Файл yer.vim используется для подсветки синтаксиса в редакторах vim и nvim.
По дефолту из папки syntax считываются файлы для syntax, соответсвенно файл будет считываеться, если его поместить в ~/.config/nvim/syntax/yer.vim Но, наверняка, можно сделать по-другому.
После этого можно с помощью команды :set syntax=yer включить подсветку.

Для автоматического включения, следует добавить автокоманду, например, на vimscripte автокоманда может выглядеть так:

```vimscript 
au BufRead,BufNewFile *.yer set filetype=yer
```

### Документация

Для использования интерпретатора в интерактивном режиме необходимо запустить файл yer.py, находящийся в папке src, без дополнительных параметров.
Для интерпретации отдельного файла необходимо указать путь к этому файлу в качестве дополнительного параметра. Например, python3 yer.py test.yer, где test.yer - файл с кодом ери, находящийся в текущей директории


##### Стандартная библиотека BUILTINS

- **yell()** - мега-функция, выводящая все свои параметры в консоль. Параметры разделяются символом ```,```

- **type()** - возвращает строку с названием типа объекта

- **screw_on()** - принимает строки, содержащие пути к еревским файлам. Пути не содержат расширения и относительны главного файла yer.py. Исполняет указанные файлы и возвращает количество успешно исполненных файлов.

- **defined()** - игнорирует параметры. Возвращает список списков, каждый из которых содержит два элемента:
1 - название переменной
2 - прикрепленное к ней значение

- **len()** - функция, возвращающая длину листа или строки

- **get()** - супер-функция, возвращающая элемент по индексу в строке или листе

get(\[1, 2], 0) - взять первый элемент из листа с элементами 1 и 2, то есть вернётся 1

- **scan()** - работает как питоновысикй input

- **integer()** - возвращает объект данного типа, образованный из первого переданного аргумента

- **float()** - возвращает объект данного типа, образованный из первого переданного аргумента

- **string()** - возвращает объект данного типа, образованный из первого переданного аргумента

- **list()** - возвращает объект данного типа, образованный из первого переданного аргумента


##### Переменные

В нашем любимом языке программирования переменным можно присвоить следующие значения:

**Integer - целое число**
a = 409

**Float - десятичная дробь**
a = -4.4

**String - строка**
a = "jujuju";
b = "2";

**List - лист**
a = \[1, 2+1, \[3, 4], yell]
в лист можно закинуть всё, даже выражения.

**Void** - призарак.

Необходимо помнить, что все переменные глобальные.


##### Комментарии

Имеют высший приоритет в синтаксисе. Весь текст внутри таких штук, как здесь:
```yer
'никто не узнает, что я сошёл с ума' 
```
не виден глазу Ери. Пробелы кстати тоже не видны, если они не в строке (стринг).


##### Конструкции

```yer
While(a<10){
	a = a + 1;          'После выполнения a станет равно 10'
}

If(a < 10){
	a = 30;             'Если а меньше 10, а станет равно 30'
}

For(i=0;i<10;i=i+1){
	a = a + 1;          'Цикл for'
}

If(a <10){
	If(a == 3){
		a = 10;         'Вложенные констракшены тоже робят'
	}
}
```

Конструкции ```Else``` нет(
Но если очень нужно будет, сделаем


##### Функции

Когда создаешь функцию и даешь ей имя, просто создается переменная с этим именем, содержащая объект функции. Как в питоне их можно присваивать переменным, передавать в другие функции и так далее.

При создании функции в скобочках указывается ее имя. параметры не объявляются. Передавать в функции можно что угодно и в каком угодно количестве. Какие из них использовать -- решается в теле функции. Чтобы обратиться к n-му аргументу, используется выражение $argv<n>. Напиример: 

```yer
Func(foo){
	bar = $argv0;   'Присваиваем переменной bar значение из параметра. которое первым было передано при вызове функции'
	return bar;
}

a = foo(42);        'Первым параметром передается число 42, оно и будет значением $argv0'
```
Аргументы, значение которых не было определено при вызове функции, будут обращены в нуль.


```
Func(foo){
	return $argv0 + $argv1;
}

Func(bar){
	a = $argv0;
	b = $argv1;
	return a * b + foo(a);
}
c = bar;
d = c(10, 15);
yell(d);              ' -> 160'
```

```return``` используется для возврата значения из функции и завершения ее работы. Стэк очищается и там всякие приколы, если хотите узнать, *@mrryb* может рассказать.

**Рекурсия есть:**
```yer
Func(countdown){
	yell($argv0);
	If($argv0 > 0){
		countdown($argv0-1);
	}
	return;
}
countdown(5);
'Будут печататься циферки от 5 до 0 включительно построчно'
```

Ещё в функциях можно юзать другие функции, определённые ниже или выше:

```yer
Func(add){
  a = a + 1;
  yell(a);
  If(a < 10){
    add();
    test();
  }
}
Func(test){
  yell("test");
  add();
}
add();
```


##### Фичи и баги

1. Все переменные глобальные

2. Если используются неинициализированные переменные, то они инициализурются нулём перед выполнением инструкции.

3. Унарный минус отсутствует.
```yer
a = 0 - 42;
```
4. Присваивать значение операндам бессмысленно. 
```yer
$argv0 = [];    'Результат 0'
```
5. Если результат выражения невозможно вычислить, его значение заменится нулем.
```yer
-=+         ' = 0'
1 + "str"   ' = 0'
```
6. Так как архитектурно для вычисления выражения оно приводится к постфиксному виду, то интерпретатор способен вычислять и выражения, уже приведенные к постфиксному виду.
   **НАСТОЯТЕЛЬНО НЕ РЕКОМЕНДУЕТСЯ ТАК ДЕЛАТЬ!**
Выражения такого вида могут привести к неопределенному поведению.
```
1 2 +       ' = 3'
```

На этом всё с подквасной документацией. Надеюсь, она устроит моих товарищей.
Нашли баг, есть вопросы или предложения? Пишите *@mrryb* или *@Resavin*
